import{r as pr,b as vr,e as mr,h as hr,d as Ae,t as an,j as pe,L as gr,f as yr,g as br,a as kr}from"./index-BNTFHy04.js";var de={},P={},nr;function wr(){if(nr)return P;nr=1;function G(e,n){for(var r in e)n(e[r],r)}function B(e,n){e.forEach(n)}function N(e,n,r){if(!e)throw Error((r?r+": ":"")+n)}function _e(e,n){var r=l(e).meta||{};ve={id:l(e).id,parent:ve,value:e,template:r.template||Ue(),sidRoot:r.sidRoot||ve&&ve.sidRoot,meta:r};try{return n()}finally{kn("region"),ve=j(ve)}}function K(e){var n=e===void 0?{}:e,r=n.node,a=r===void 0?[]:r,t=n.parent,o=n.child,s=o===void 0?n.to||n.target:o,u=n.scope,c=u===void 0?{}:u,i=n.meta,p=i===void 0?{}:i,b=n.family,v=b===void 0?{type:"regular"}:b,h=n.regional,d=Je(t===void 0?n.from||n.source:t),S=Je(v.links),A=Je(v.owners),f=[];B(a,function(k){return k&&X(f,k)});var y={id:bn(),seq:f,next:Je(s),meta:p,scope:c,family:{type:v.type||"crosslink",links:S,owners:A}};return B(S,function(k){return X(g(k),y)}),B(A,function(k){return X(w(k),y)}),B(d,function(k){return X(k.next,y)}),h&&ve&&Oe(x(ve),[y]),y}function ne(e,n,r){var a,t=ke,o=null,s=T;if(e.target&&(n=e.params,r=e.defer,a=e.meta,t="page"in e?e.page:t,e.stack&&(o=e.stack),s=E(e)||s,e=e.target),s&&T&&s!==T&&(T=null),Array.isArray(e))for(var u=0;u<e.length;u++)Fe("pure",t,l(e[u]),o,n[u],s,a);else Fe("pure",t,l(e),o,n,s,a);if(!r||fn){var c,i,p,b,v,h,d={isRoot:fn,currentPage:ke,scope:T,isWatch:ln,isPure:dn};fn=0;for(var S=function(){var A=b.idx,f=b.stack,y=b.type;p=f.node,ke=v=f.page,T=E(f),v?h=v.reg:T&&(h=T.reg);var k=!!v,z=!!T,H={fail:0,scope:p.scope};c=i=0;for(var Z=A;Z<p.seq.length&&!c;Z++){var _=p.seq[Z];if(_.order){var $=_.order,J=$.priority,ee=$.barrierID,ye=ee?v?v.fullID+"_"+ee:ee:0;if(Z!==A||y!==J)return ee?En.has(ye)||(En.add(ye),jn(Z,f,J,ee)):jn(Z,f,J,0),"continue|kernelLoop";ee&&En.delete(ye)}switch(_.type){case"mov":var le=_.data,je=void 0;switch(le.from){case"stack":je=x(f);break;case"a":case"b":je=f[le.from];break;case"value":je=le.store;break;case"store":if(h&&!h[le.store.id])if(k){var _n=Hn(v,le.store.id);f.page=v=_n,_n?h=_n.reg:z?(vn(T,le.store,0,1,le.softRead),h=T.reg):h=void 0}else z&&vn(T,le.store,0,1,le.softRead);je=nn(h&&h[le.store.id]||le.store)}switch(le.to){case"stack":f.value=je;break;case"a":case"b":f[le.to]=je;break;case"store":On(v,T,le.target,0).current=je}break;case"compute":var Ge=_.data;if(Ge.fn){ln=p.meta.op==="watch",dn=Ge.pure;var Jn=Ge.safe?(0,Ge.fn)(x(f),H.scope,f):ur(H,Ge.fn,f);Ge.filter?i=!Jn:f.value=Jn,ln=d.isWatch,dn=d.isPure}}c=H.fail||i}if(Cn&&Cn(f,H),!c){var tn=x(f),Me=E(f);if(B(p.next,function(Ln){Fe("child",v,Ln,f,tn,Me)}),Me){p.meta.needFxCounter&&Fe("child",v,Me.fxCount,f,tn,Me),p.meta.storeChange&&Fe("child",v,Me.storeChange,f,tn,Me),p.meta.warnSerialize&&Fe("child",v,Me.warnSerializeNode,f,tn,Me);var er=Me.additionalLinks[p.id];er&&B(er,function(Ln){Fe("child",v,Ln,f,tn,Me)})}}};b=or();)S();fn=d.isRoot,ke=d.currentPage,T=E(d)}}function Le(e,n){n===void 0&&(n="combine");var r=n+"(",a="",t=0;return G(e,function(o){t<25&&(o!=null&&(r+=a,r+=F(o)?D(o).fullName:o.toString()),t+=1,a=", ")}),r+")"}function Pe(e,n){var r,a,t=e;if(n){var o=D(n);e.length===0?(r=o.path,a=o.fullName):(r=o.path.concat([e]),a=o.fullName.length===0?e:o.fullName+"/"+e)}else r=e.length===0?[]:[e],a=e;return{shortName:t,fullName:a,path:r}}function oe(e,n){if(!n||!n.name&&!n.named&&!n.loc)return e;var r="["+e+"]",a=n.named||n.name;a&&(r+=" unit '"+a+"'");var t=n.loc;return!a&&t&&(r+=" ("+t.file+":"+t.line+":"+t.column+")"),r}function Se(e,n){var r=n?e:e[0];wn(r);var a=r.or,t=r.and;if(t){var o=n?t:t[0];if(he(o)&&"and"in o){var s=Se(t,n);e=s[0],a=Object.assign({},a,s[1])}else e=t}return[e,a]}function Xe(e){var n=function(){return e()};return n.unsubscribe=function(){return e()},n}function se(e){var n=Ue();if(n){for(var r=n.handlers[e],a=arguments.length,t=new Array(a>1?a-1:0),o=1;o<a;o++)t[o-1]=arguments[o];if(r)return r.apply(void 0,[n].concat(t))}}function U(e,n,r,a){var t=ke,o=null;if(n)for(o=ke;o&&o.template!==n;)o=j(o);Tn(o);var s=e.create(r,a);return Tn(t),s}function ae(e,n){var r=He({or:n,and:typeof e=="string"?{name:e}:e}),a=oe("event",r),t=function u(c){N(!O(u,"derived"),"call of derived event is not supported, use createEvent instead",a),N(!dn,"unit call from pure function is not supported, use operators like sample instead",a);for(var i=arguments.length,p=new Array(i>1?i-1:0),b=1;b<i;b++)p[b-1]=arguments[b];return ke?U(u,o,c,p):u.create(c,p)},o=Ue(),s=Object.assign(t,{graphite:K({meta:In(r.actualOp||"event",t,r),regional:1}),create:function(u){return ne({target:t,params:u,scope:T}),u},watch:function(u){return Xn(t,u)},map:function(u){return Nn(t,"map",u,[xe()])},filter:function(u){return Nn(t,"filter",u.fn?u:u.fn,[xe(sn,1)])},filterMap:function(u){return Nn(t,"filterMap",u,[xe(),ue(function(c){return!ge(c)},1)])},prepend:function(u){N(t.targetable,".prepend of derived event is not supported, call source event instead",a);var c=ae("* → "+t.shortName,{parent:j(t)});return se("eventPrepend",l(c)),Ce(c,t,[xe()],"prepend",u),zn(t,c),c}});return r!=null&&r.domain&&r.domain.hooks.event(s),q(s,"id",s.graphite.id),kn(s.graphite),s}function on(e,n,r,a,t){return De(r,t+" "+n,"first argument"),N(me(a),"second argument should be a function",t),ie(!O(e,"derived"),n+" in derived store",n+" in store created via createStore",t),B(Array.isArray(r)?r:[r],function(o){e.off(o),C(e).set(o,hn(Zn(o,e,"on",tr,a)))}),e}function R(e,n){var r=He(n),a=qe(e),t=oe("store",r),o=ae({named:"updates",derived:1});se("storeBase",a);var s=a.id,u="skipVoid"in r,c=u&&!r.skipVoid;ie(!(u&&r.skipVoid),"{skipVoid: true}","updateFilter",t);var i={subscribers:new Map,updates:o,defaultState:e,stateRef:a,getState:function(){var f,y=a;if(ke){for(var k=ke;k&&!k.reg[s];)k=j(k);k&&(f=k)}return!f&&T&&(vn(T,a,1),f=T),f&&(y=f.reg[s]),nn(y)},setState:function(f){return ne({target:i,params:f,defer:1,scope:T})},reset:function(){N(i.targetable,".reset of derived store is not supported",t);for(var f=arguments.length,y=new Array(f),k=0;k<f;k++)y[k]=arguments[k];return B(y,function(z){return on(i,".reset",z,function(){return i.defaultState},t)}),i},on:function(f,y){return N(i.targetable,".on of derived store is not supported",t),on(i,".on",f,y,t)},off:function(f){var y=C(i).get(f);return y&&(y(),C(i).delete(f)),i},map:function(f,y){var k,z;he(f)&&(k=f,f=f.fn);var H=i.getState(),Z=ge(H);Ue()?z=null:(!Z||Z&&c)&&(z=f(H));var _=R(z,Object.assign({name:i.shortName+" → *",derived:1},y,{and:k})),$=Zn(i,_,"map",sn,f);return cn(M(_),{type:"map",fn:f,from:a}),M(_).noInit=1,se("storeMap",a,$),_},watch:function(f,y){if(ie(!y,"watch second argument","sample",t),!y||!F(f)){var k=Xn(i,f);return se("storeWatch",a,f)||f(i.getState()),k}return N(me(y),"second argument should be a function",t),f.watch(function(z){return y(i.getState(),z)})}},p=In("store",i,r),b=i.defaultConfig.updateFilter;i.graphite=K({scope:{state:a,fn:b},node:[ue(function(f,y,k){return k.scope&&!k.scope.reg[a.id]&&(k.b=1),f}),we(a),ue(function(f,y,k){var z=k.a,H=k.b,Z=ge(f);return Z&&!u&&console.error(t+": "+gn),(Z&&c||!Z)&&(f!==z||H)},1),b&&xe(Bn,1),be({from:"stack",target:a})],child:o,meta:Object.assign({},p,{defaultState:e}),regional:1}),q(i,"id",i.graphite.id),q(i,"rootStateRefId",s);var v=O(i,"serialize"),h=O(i,"derived"),d=v==="ignore",S=O(i,"sid");S&&(q(i,"storeChange",1),a.sid=S),S||d||h||q(i,"warnSerialize",1);var A=ge(e);return N(h||!A||A&&c,gn,t),h&&A&&!u&&console.error(t+": "+gn),Oe(i,[o]),r!=null&&r.domain&&r.domain.hooks.store(i),h||(i.reinit=ae({named:"reinit"}),i.reset(i.reinit)),a.meta=i.graphite.meta,kn(i.graphite),i}function ce(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a,t,o,s=Se(n);n=s[0];var u,c,i,p=oe("combine",o=s[1]),b=n[n.length-1],v=n.length>1&&!L(b)&&he(b),h=v&&b,d=v?n[n.length-2]:b;if(me(d)?(t=n.slice(0,v?-2:-1),a=d):t=n,t.length===1){var S=t[0];L(S)||(u=S,c=1)}if(!c&&(u=t,a)){i=1;var A=a;a=function(f){return A.apply(void 0,f)}}return N(he(u),p+": shape should be an object"),cr(Array.isArray(u),!i,u,o,a,h)}function We(){var e={};return e.req=new Promise(function(n,r){e.rs=n,e.rj=r}),e.req.catch(function(){}),e}function Be(e,n){n===void 0&&(n={});var r=He(me(e)?{handler:e}:e,n),a=oe("effect",r),t=ae(me(e)?{handler:e}:e,Object.assign({},n,{actualOp:"effect"})),o=l(t);q(o,"op",t.kind="effect"),t.use=function(d){return N(me(d),".use argument should be a function",a),b.scope.handler=d,t},t.use.getCurrent=function(){return b.scope.handler};var s=t.finally=ae({named:"finally",derived:1}),u=t.done=s.filterMap({named:"done",fn:function(d){if(d.status==="done")return{params:d.params,result:d.result}}}),c=t.fail=s.filterMap({named:"fail",fn:function(d){if(d.status==="fail")return{params:d.params,error:d.error}}}),i=t.doneData=u.map({named:"doneData",fn:function(d){return d.result}}),p=t.failData=c.map({named:"failData",fn:function(d){return d.error}}),b=K({scope:{handler:t.defaultConfig.handler||function(){return N(0,"no handler used in "+t.compositeName.fullName)}},node:[ue(function(d,S,A){var f=S.handler,y=E(A);if(y){var k=y.handlers.unitMap.get(t)||y.handlers.sidMap[t.sid];k&&(f=k)}return d.handler=f,d},0,1),ue(function(d,S,A){if(!S.runnerFn||S.runnerFn(d,null,A)){var f=d.params,y=d.req,k=d.handler,z=d.args,H=z===void 0?[f]:z,Z=yn(f,y,1,s,A),_=yn(f,y,0,s,A),$=Yn(k,_,H),J=$[1];$[0]&&(he(J)&&me(J.then)?J.then(Z,_):Z(J))}},0,1)],meta:{op:"fx",fx:"runner"}});o.scope.runner=b,X(o.seq,ue(function(d,S,A){var f=S.runner,y=j(A)?{params:d,req:{rs:function(){},rj:function(){}}}:d;return A.meta||(A.meta={fxID:un()}),ne({target:f,params:y,defer:1,scope:E(A),meta:A.meta}),y.params})),t.create=function(d){var S=We(),A={params:d,req:S};if(T&&!ln){var f=T;S.req.finally(function(){pn(f)}).catch(function(){})}return ne({target:t,params:A,scope:T}),S.req};var v=t.inFlight=R(0,{serialize:"ignore",named:(O(t,"name")||t.graphite.id)+".inFlight"}).on(t,function(d){return d+1}).on(s,function(d){return d-1}).map({fn:function(d){return d},named:"inFlight"});q(s,"needFxCounter","dec"),q(t,"needFxCounter",1);var h=t.pending=v.map({fn:function(d){return d>0},named:"pending"});return Oe(t,[s,u,c,i,p,h,v]),r!=null&&r.domain&&r.domain.hooks.effect(t),t}function $e(e,n){var r=oe("merge",n);De(e,r,"first argument");var a=ae({name:Le(e,"merge"),derived:1,and:n});return Ce(e,a,[],"merge"),a}function Ze(e,n){var r=0;return B(lr,function(a){a in e&&(N(e[a]!=null,Qn(n,a)),r=1)}),r}function Ye(e,n,r){var a=[];(function t(o){re(a,o)||(X(a,o),O(o,"op")==="store"&&(r||O(o,"sid"))&&n(o,O(o,"sid")),B(o.next,t),B(g(o),t),B(w(o),t))})(e)}function ze(e,n){var r=Array.isArray(e)?new Map(e):e,a=new Map,t=0;if(r instanceof Map){var o={};return B(r,function(s,u){N(F(u),"Map key should be a unit"),n&&n(u,s),u.sid&&(u.sid in o&&(t=1),o[u.sid]=s),a.set(u,s)}),{sidMap:o,unitMap:a,hasSidDoubles:t}}return{sidMap:r,unitMap:a}}function Ee(e,n){return L(n)?[en.mov({store:n.stateRef,to:"stack"})].concat(e):e}Object.defineProperty(P,"__esModule",{value:1});for(var Qe,m=typeof Symbol<"u"&&Symbol.observable||"@@observable",l=function(e){return e.graphite||e},g=function(e){return e.family.owners},w=function(e){return e.family.links},M=function(e){return e.stateRef},x=function(e){return e.value},C=function(e){return e.subscribers},j=function(e){return e.parent},E=function(e){return e.scope},O=function(e,n){return l(e).meta[n]},q=function(e,n,r){return l(e).meta[n]=r},D=function(e){return e.compositeName},F=function(e){return(me(e)||he(e))&&"kind"in e},Y=function(e){return function(n){return F(n)&&n.kind===e}},L=Y("store"),W=Y("event"),I=Y("effect"),Q=function(e){return F(e)&&!!e.targetable},V=Y("domain"),fe=Y("scope"),te={__proto__:null,unit:F,store:L,event:W,effect:I,targetable:Q,domain:V,scope:fe,attached:function(e){return I(e)&&O(e,"attached")==1}},re=function(e,n){return e.includes(n)},Ve=function(e,n){var r=e.indexOf(n);r!==-1&&e.splice(r,1)},X=function(e,n){return e.push(n)},ie=function(e,n,r,a){return!e&&console.error((a?a+": ":"")+n+" is deprecated"+(r?", use "+r+" instead":""))},Ie=function(){var e=0;return function(){return""+ ++e}},Ke=Ie(),Ne=Ie(),bn=Ie(),un=Ie(),ve=null,kn=function(e){Qe&&Qe(e,ve)},Ue=function(){return ve&&ve.template},Pn=function(e){return e&&ve&&ve.sidRoot&&(e=ve.sidRoot+"|"+e),e},Oe=function(e,n){var r=l(e);B(n,function(a){var t=l(a);r.family.type!=="domain"&&(t.family.type="crosslink"),X(g(t),r),X(w(r),t)})},Je=function(e){return e===void 0&&(e=[]),(Array.isArray(e)?e:[e]).flat().map(l)},he=function(e){return typeof e=="object"&&e!==null},me=function(e){return typeof e=="function"},ge=function(e){return e===void 0},wn=function(e){return N(he(e)||me(e),"expect first argument be an object")},Wn=function(e,n,r,a){return N(!(!he(e)&&!me(e)||!("family"in e)&&!("graphite"in e)),n+": expect "+r+" to be a unit (store, event or effect)"+a)},De=function(e,n,r){Array.isArray(e)?B(e,function(a,t){return Wn(a,n,t+" item of "+r,"")}):Wn(e,n,r," or array of units")},Sn=function(e,n,r){return r===void 0&&(r="target"),B(Je(n),function(a){return N(!O(a,"derived"),e+': derived unit in "'+r+'" is not supported, use createStore/createEvent instead"')})},Bn=function(e,n,r){return(0,n.fn)(e,r.a)},tr=function(e,n,r){return(0,n.fn)(r.a,e)},sn=function(e,n){return(0,n.fn)(e)},$n=function(e,n,r,a){var t={id:Ne(),type:e,data:n};return r&&(t.order={priority:r},a&&(t.order.barrierID=++ar)),t},ar=0,be=function(e){var n=e.from,r=e.target,a=e.to;return $n("mov",{from:n===void 0?"store":n,store:e.store,to:a===void 0?r?"store":"stack":a,target:r},e.priority,e.batch)},Re=function(e){var n=e.safe,r=e.filter,a=e.pure;return $n("compute",{fn:e.fn,safe:n===void 0?0:n,filter:r===void 0?0:r,pure:a===void 0?0:a},e.priority,e.batch)},xn=function(e){return Re({fn:e.fn,priority:"effect"})},ue=function(e,n,r){return Re({fn:e,safe:1,filter:n,priority:r&&"effect"})},we=function(e,n,r){return be({store:e,to:n?"stack":"a",priority:r&&"sampler",batch:1})},xe=function(e,n){return e===void 0&&(e=sn),Re({fn:e,pure:1,filter:n})},en={mov:be,compute:Re,filter:function(e){return Re({fn:e.fn,filter:1,pure:e.pure})},run:xn},qe=function(e){return{id:Ne(),current:e,initial:e}},nn=function(e){return e.current},cn=function(e,n){e.before||(e.before=[]),X(e.before,n)},Te=null,Un=function e(n,r){return n?(r&&((n.v.type===r.v.type&&n.v.id>r.v.id||An(n.v.type)>An(r.v.type))&&(a=n,n=r,r=a),a=e(n.r,r),n.r=n.l,n.l=a),n):r;var a},Mn=[],Dn=0;Dn<6;)X(Mn,{first:null,last:null,size:0}),Dn+=1;var T,Cn,or=function(){for(var e=0;e<6;e++){var n=Mn[e];if(n.size>0){if(e===3||e===4){n.size-=1;var r=Te.v;return Te=Un(Te.l,Te.r),r}n.size===1&&(n.last=null);var a=n.first;return n.first=a.r,n.size-=1,a.v}}},Fe=function(e,n,r,a,t,o,s){return jn(0,{a:null,b:null,node:r,parent:a,value:t,page:n,scope:o,meta:s},e,0)},jn=function(e,n,r,a){var t=An(r),o=Mn[t],s={v:{idx:e,stack:n,type:r,id:a},l:null,r:null};t===3||t===4?Te=Un(Te,s):(o.size===0?o.first=s:o.last.r=s,o.last=s),o.size+=1},An=function(e){switch(e){case"child":return 0;case"pure":return 1;case"read":return 2;case"barrier":return 3;case"sampler":return 4;case"effect":return 5;default:return-1}},En=new Set,fn=1,ln=0,dn=0,ke=null,pn=function(e){T=e},Tn=function(e){ke=e},Hn=function(e,n){if(e){for(;e&&!e.reg[n];)e=e.parent;if(e)return e}return null},On=function(e,n,r,a){var t=Hn(e,r.id);return t?t.reg[r.id]:n?(vn(n,r,a),n.reg[r.id]):r},ir=function(e){return e},vn=function e(n,r,a,t,o){var s=n.reg;if(!s[r.id]){var u=r.sid,c={id:r.id,current:r.initial,meta:r.meta};if(c.id in n.values.idMap)c.current=n.values.idMap[c.id];else if(u&&u in n.values.sidMap&&!(u in n.sidIdMap)){var i,p=r==null||(i=r.meta)===null||i===void 0?void 0:i.serialize;c.current=(n.fromSerialize&&p!=="ignore"&&(p==null?void 0:p.read)||ir)(n.values.sidMap[u])}else if(r.before&&!o){var b=0,v=a||!r.noInit||t;B(r.before,function(h){switch(h.type){case"map":var d=h.from;if((d||h.fn)&&(d&&e(n,d,a,t),v)){var S=d&&s[d.id].current;c.current=h.fn?h.fn(S):S}break;case"field":e(n,h.from,a,t),b||(b=1,c.current=Array.isArray(c.current)?[].concat(c.current):Object.assign({},c.current)),v&&(c.current[h.field]=s[s[h.from.id].id].current)}})}u&&(n.sidIdMap[u]=r.id),s[r.id]=c}},ur=function(e,n,r){try{return n(x(r),e.scope,r)}catch(a){console.error(a),e.fail=1,e.failReason=a}},He=function e(n,r){return r===void 0&&(r={}),he(n)&&(e(n.or,r),G(n,function(a,t){ge(a)||t==="or"||t==="and"||(r[t]=a)}),e(n.and,r)),r},Gn=function(e,n){Ve(e.next,n),Ve(g(e),n),Ve(w(e),n)},sr=function e(n,r,a){var t;n.next.length=0,n.seq.length=0,n.scope=null;for(var o=w(n);t=o.pop();)Gn(t,n),(r||a&&n.meta.op!=="sample"||t.family.type==="crosslink")&&e(t,r,t.meta.op!=="on"&&a);for(o=g(n);t=o.pop();)Gn(t,n),a&&t.family.type==="crosslink"&&e(t,r,t.meta.op!=="on"&&a)},rn=function(e){return e.clear()},mn=function(e,n){var r=(n===void 0?{}:n).deep,a=0;if(e.ownerSet&&e.ownerSet.delete(e),L(e))rn(C(e));else if(V(e)){a=1;var t=e.history;rn(t.events),rn(t.effects),rn(t.stores),rn(t.domains)}sr(l(e),!!r,a)},hn=function(e){return Xe(function(){return mn(e)})},Ce=function(e,n,r,a,t){return K({node:r,parent:e,child:n,scope:{fn:t},meta:{op:a},family:{owners:[e,n],links:n},regional:1})},Xn=function(e,n){return N(me(n),".watch argument should be a function"),hn(K({scope:{fn:n},node:[xn({fn:sn})],parent:e,meta:{op:"watch"},family:{owners:e},regional:1}))},zn=function(e,n,r){r===void 0&&(r="event"),j(e)&&j(e).hooks[r](n)},In=function(e,n,r){var a=He(r),t=e==="domain",o=Ke(),s=a.sid,u=s===void 0?null:s,c=a.named,i=c===void 0?null:c,p=a.domain,b=a.parent,v=b===void 0?p===void 0?null:p:b,h=i||a.name||(t?"":o),d=Pe(h,v),S={op:n.kind=e,name:n.shortName=h,sid:n.sid=Pn(u),named:i,unitId:n.id=o,serialize:a.serialize,derived:a.derived,config:a};if(n.targetable=!a.derived,n.parent=v,n.compositeName=d,n.defaultConfig=a,n.getType=function(){return ie(0,"getType","compositeName.fullName"),d.fullName},!t){n.subscribe=function(f){return wn(f),n.watch(me(f)?f:function(y){return f.next&&f.next(y)})},n[m]=function(){return n};var A=Ue();A&&(S.nativeTemplate=A)}return S},Nn=function(e,n,r,a){var t;he(r)&&(t=r,r=r.fn);var o=ae({name:e.shortName+" → *",derived:1,and:t});return Ce(e,o,a,n,r),o},gn="undefined is used to skip updates. To allow undefined as a value provide explicit { skipVoid: false } option",Zn=function(e,n,r,a,t){var o=M(n),s=be({store:o,to:"a",priority:"read"});r==="map"&&(s.data.softRead=1);var u=[s,xe(a)];return se("storeOnMap",o,u,L(e)&&M(e)),Ce(e,n,u,r,t)},cr=function(e,n,r,a,t,o){var s=oe("combine",a),u=e?function(y){return[].concat(y)}:function(y){return Object.assign({},y)},c=e?[]:{},i=u(c),p=qe(i),b=qe(1);p.type=e?"list":"shape",p.noInit=1,se("combineBase",p,b);var v=R(i,Object.assign({name:Le(r),derived:1},o,{and:a})),h=M(v);h.noInit=1,q(v,"isCombine",1);var d=we(p);d.order={priority:"barrier"};var S=be({store:h,to:"b",priority:"read"});S.data.softRead=1;var A=[ue(function(y,k,z){return z.scope&&!z.scope.reg[p.id]&&(z.c=1),y}),d,be({store:b,to:"b"}),ue(function(y,k,z){var H=k.key;if(z.c||y!==z.a[H])return n&&z.b&&(z.a=u(z.a)),z.a[H]=y,1},1),be({from:"a",target:p}),be({from:"value",store:0,target:b}),be({from:"value",store:1,target:b,priority:"barrier",batch:1}),we(p,1,1),t&&xe(),S];if(G(r,function(y,k){if(!L(y))return N(!F(y)&&!ge(y),"combine expects a store in a field "+k,s),void(i[k]=c[k]=y);c[k]=y.defaultState,i[k]=y.getState();var z=Ce(y,v,A,"combine",t);z.scope.key=k;var H=M(y);cn(p,{type:"field",field:k,from:H}),se("combineField",H,z)}),v.defaultShape=r,cn(h,{type:"map",from:p,fn:t}),!Ue())if(t){var f=t(i);!ge(f)||o&&"skipVoid"in o||console.error(s+": "+gn),h.current=f,h.initial=f,v.defaultState=f}else v.defaultState=c;return v},Yn=function(e,n,r){try{return[1,e.apply(void 0,r)]}catch(a){return n(a),[0,null]}},yn=function(e,n,r,a,t){return function(o){ne({target:[a,fr],params:[r?{status:"done",params:e,result:o}:{status:"fail",params:e,error:o},{value:o,fn:r?n.rs:n.rj}],defer:1,page:t.page,scope:t.scope,meta:t.meta})}},fr=K({node:[xn({fn:function(e){return(0,e.fn)(e.value)}})],meta:{op:"fx",fx:"sidechain"}}),lr=["source","clock","target"],Qn=function(e,n){return e+": "+n+" should be defined"},Rn=function(e,n,r,a,t,o,s,u,c,i,p,b){var v=oe(e,u),h=!!t;N(!ge(r)||!ge(n),Qn(v,"either source or clock"));var d=0;ge(r)?d=1:F(r)||(r=ce(r)),ge(n)?n=r:(De(n,v,"clock"),Array.isArray(n)&&(n=$e(n))),d&&(r=n),u||s||(s=r.shortName);var S="none";(p||a)&&(F(a)?S="unit":(N(me(a),"`filter` should be function or unit"),S="fn")),t?(De(t,v,"target"),Sn(v,t)):S==="none"&&i&&L(r)&&L(n)?t=R(o?o(nn(M(r)),nn(M(n))):nn(M(r)),{name:s,sid:b,or:u}):(t=ae({name:s,derived:1,or:u}),se("sampleTarget",l(t)));var A=qe(),f=[];if(S==="unit"){var y=Vn(a,t,n,A,e),k=y[0];y[2]||f.push.apply(f,qn(y[1])),f.push.apply(f,qn(k))}var z=[];if(d)c&&z.push(we(A,1,1));else{var H=Vn(r,t,n,A,e),Z=H[0];H[2]||z.push.apply(z,qn(H[1])),z.push(we(Z,1,c))}var _=Ce(n,t,[se("sampleSourceLoader"),be({from:"stack",target:A})].concat(z,f,[we(A),S==="fn"&&xe(function($,J,ee){return a($,ee.a)},1),o&&xe(Bn),se("sampleSourceUpward",h)]),e,o);return Oe(r,[_]),Object.assign(_.meta,u,{joint:1}),t},qn=function(e){return[we(e),ue(function(n,r,a){return a.a},1)]},Vn=function(e,n,r,a,t){var o=L(e),s=o?M(e):qe(),u=qe(o);return o||K({parent:e,node:[be({from:"stack",target:s}),be({from:"value",store:1,target:u})],family:{owners:[e,n,r],links:n},meta:{op:t},regional:1}),se("sampleSource",u,s,a),[s,u,o]},Fn=function(e,n,r,a){var t=e[n];t&&ne({target:t,params:Array.isArray(t)?t.map(function(){return r}):r,defer:1,stack:a})},Kn=function(e){return!e.node.meta.isCombine||e.parent&&e.parent.node.meta.op!=="combine"},dr=function(e){return e};return P.allSettled=function(e,n){var r=n===void 0?{}:n,a=r.scope,t=r.params;if(!F(e))return Promise.reject(new Error("first argument should be unit"));if(!(I(e)||W(e)||L(e)||fe(e)))return Promise.reject(new Error("first argument accepts only effects, events, stores or scopes"));if(fe(e))a=e;else if(!Q(e)){var o=oe("allSettled",l(e).meta);return Promise.reject(Error(o+": unit should be targetable"))}var s=We();s.parentFork=T;var u=a.fxCount;X(u.scope.defers,s);var c=[],i=[];return fe(e)||(X(c,e),X(i,I(e)?{params:t,req:{rs:function(p){s.value={status:"done",value:p}},rj:function(p){s.value={status:"fail",value:p}}}}:t)),X(c,u),X(i,null),ne({target:c,params:i,scope:a}),s.req},P.attach=function(e){var n,r,a=Se(e,1);e=a[0];var t=oe("attach",r=a[1]),o=e.source,s=e.effect,u=e.mapParams,c=e.domain;I(s)&&N(ge(c),"`domain` can only be used with a plain function",t);var i=Be(e,r);q(i,"attached",1);var p,b,v=l(i).scope.runner,h=function(S,A,f){var y,k=S.params,z=S.req,H=S.handler,Z=i.finally,_=yn(k,z,0,Z,f),$=f.a,J=I(H),ee=1;if(u){var ye=Yn(u,_,[k,$]);ee=ye[0],y=ye[1]}else y=o&&J?$:k;if(ee){if(!J)return S.args=[$,y],1;ne({target:H,params:{params:y,req:{rs:yn(k,z,1,Z,f),rj:_}},page:f.page,defer:1,meta:f.meta})}};o?(v.scope.runnerFn=h,L(o)?Oe(b=o,[i]):(b=ce(o),Oe(i,[b])),p=[ue(function(S){return S},0,1),we(M(b))],delete v.seq[1].order):p=[ue(h,1,1)],(n=v.seq).splice.apply(n,[1,0].concat(p)),i.use(s);var d=j(s);return d&&(Object.assign(D(i),Pe(i.shortName,d)),i.defaultConfig.parent=d),zn(s,i,"effect"),i},P.clearNode=mn,P.combine=ce,P.createApi=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=Se(n),t=a[0],o=t[0],s=t[1],u=a[1],c={};return G(s,function(i,p){var b=c[p]=ae(p,{parent:j(o),config:u});o.on(b,i),zn(o,b)}),c},P.createDomain=function e(n,r){var a=He({or:r,and:typeof n=="string"?{name:n}:n}),t=K({family:{type:"domain"},regional:1,parent:(a==null?void 0:a.domain)||(a==null?void 0:a.parent)}),o={history:{},graphite:t,hooks:{}};t.meta=In("domain",o,{parent:(a==null?void 0:a.domain)||(a==null?void 0:a.parent),or:Object.assign({},a,{derived:1})}),G({Event:ae,Effect:Be,Store:R,Domain:e},function(u,c){var i=c.toLowerCase(),p=ae({named:"on"+c});o.hooks[i]=p;var b=new Set;o.history[i+"s"]=b,p.create=function(v){return ne(p,v),v},X(l(p).seq,ue(function(v,h,d){return d.scope=null,v})),p.watch(function(v){Oe(o,[v]),b.add(v),v.ownerSet||(v.ownerSet=b),j(v)||(v.parent=o)}),Oe(o,[p]),o["onCreate"+c]=function(v){return B(b,v),p.watch(v)},o["create"+c]=o[i]=function(v,h){var d=He({and:h,or:v});return d!=null&&d.domain?u(v,h):p(u(v,{parent:o,or:d}))}});var s=j(o);return s&&G(o.hooks,function(u,c){return Ce(u,s.hooks[c])}),a!=null&&a.domain&&a.domain.hooks.domain(o),o},P.createEffect=Be,P.createEvent=ae,P.createNode=K,P.createStore=R,P.createWatch=function(e){var n=e.unit,r=e.fn,a=e.scope,t=e.batch,o=[en.run({fn:function(p){return r(p)}})];t&&o.unshift(en.compute({priority:"sampler",batch:1})),L(n)&&o.unshift(en.mov({store:n.stateRef,to:"stack"}));var s=Array.isArray(n)?n:[n];if(a){var u=[],c=a.additionalLinks;return s.forEach(function(p){var b=c[p.graphite.id]||[];c[p.graphite.id]=b;var v=K({node:Ee(o,p),meta:{watchOp:p.kind}});b.push(v),u.push(function(){var h=b.indexOf(v);h!==-1&&b.splice(h,1),mn(v)})}),Xe(function(){u.forEach(function(p){return p()})})}var i=K({node:o,parent:s,family:{owners:s}});return Xe(function(){mn(i)})},P.fork=function(e,n){var r,a=e;V(e)&&(ie(0,"fork(domain)","fork()"),r=e,a=n);var t=function(c){var i=K({scope:{defers:[],inFlight:0,fxID:0},node:[ue(function(h,d,S){S.parent?S.parent.node.meta.needFxCounter==="dec"?d.inFlight-=1:(d.inFlight+=1,d.fxID+=1):d.fxID+=1}),Re({priority:"sampler",batch:1}),ue(function(h,d){var S=d.defers,A=d.fxID;d.inFlight>0||S.length===0||Promise.resolve().then(function(){d.fxID===A&&B(S.splice(0,S.length),function(f){pn(f.parentFork),f.rs(f.value)})})},0,1)]}),p=K({node:[ue(function(h,d,S){var A=S.parent;if(A){var f=A.node;if(Kn(A)){var y=E(S),k=f.meta.sid;y.sidIdMap[k]=f.scope.state.id,y.values.sidMap[k]=h;var z=f.meta.serialize;z&&y.sidSerializeSettings.set(k,z==="ignore"?{ignore:1}:{ignore:0,write:z.write})}}})]}),b=K({node:[ue(function(h,d,S){var A=E(S);A&&S.parent&&Kn(S.parent)&&(A.warnSerialize=1)})]}),v={cloneOf:c,reg:{},values:{sidMap:{},idMap:{}},sidIdMap:{},sidSerializeSettings:new Map,getState:function(h){if("current"in h)return On(ke,v,h,0).current;var d=l(h);return On(ke,v,d.scope.state,1).current},kind:"scope",graphite:K({family:{type:"domain",links:[i,p,b]},meta:{unit:"fork"},scope:{forkInFlightCounter:i}}),additionalLinks:{},handlers:{sidMap:{},unitMap:new Map},fxCount:i,storeChange:p,warnSerializeNode:b};return v}(r);if(a){if(a.values){var o=ze(a.values,function(c){return N(L(c)&&Q(c),"Values map can contain only writable stores as keys")}),s=o.unitMap,u=o.hasSidDoubles;Object.assign(t.values.sidMap,o.sidMap),B(s,function(c,i){if(t.values.idMap[i.stateRef.id]=c,t.sidIdMap[O(i,"sid")]=i.stateRef.id,O(i,"serialize")==="ignore"){var p=O(i,"sid");t.sidSerializeSettings.set(p,{ignore:1})}}),t.fromSerialize=!(Array.isArray(a.values)||a.values instanceof Map),t.hasSidDoubles=u}a.handlers&&(ie(a.handlers instanceof Map||Array.isArray(a.handlers),"object with handlers","array"),t.handlers=ze(a.handlers,function(c){return N(I(c),"Handlers map can contain only effects as keys")}))}return t},P.forward=function(e){var n="forward",r=Se(e,1),a=r[0],t=a.from,o=a.to,s=r[1],u=oe(n,s);return ie(0,n,"sample",u),De(t,u,'"from"'),De(o,u,'"to"'),Sn(u,o,"to"),hn(K({parent:t,child:o,meta:{op:n,config:s},family:{},regional:1}))},P.fromObservable=function(e){wn(e);var n=m in e?e[m]():e;N(n.subscribe,"expect observable to have .subscribe");var r=ae(),a=hn(r);return n.subscribe({next:r,error:a,complete:a}),r},P.guard=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=Se(n),t=a[0],o=t[0],s=t[1],u=a[1],c=oe("guard",u);return ie(0,"guard","sample",c),s||(o=(s=o).source),Ze(s,c),Rn("guard",s.clock,o,s.filter,s.target,null,s.name,u,!s.greedy,0,1)},P.hydrate=function(e,n){var r=n.values;N(he(r),"values property should be an object");var a=ze(r),t=a.sidMap,o=a.unitMap,s=Object.getOwnPropertyNames(t),u={};B(o,function(h,d){u[d.stateRef.id]=d});var c,i,p,b=[],v=[];fe(e)?(p=1,N((c=e).cloneOf,"scope should be created from domain"),ie(0,"hydrate(fork(domain), { values })","fork({ values })"),i=l(c.cloneOf)):V(e)?(ie(0,"hydrate(domain, { values })","fork({ values })"),i=l(e)):N(0,"first argument of hydrate should be domain or scope"),Ye(i,function(h,d){if(d&&re(s,d)){X(b,h);var S=O(h,"serialize");S&&S!=="ignore"&&(t[d]=S.read(t[d])),X(v,t[d])}else h.scope.state.id in u&&(X(b,h),X(v,o.get(u[h.scope.state.id])))},1),ne({target:b,params:v,scope:c}),p&&Object.assign(c.values.sidMap,t)},P.is=te,P.launch=ne,P.merge=$e,P.restore=function(e,n,r){var a=oe("restore",r);if(N(!L(e),"restore($store) is not supported",a),W(e)||I(e)){var t=j(e),o=R(n,{parent:t,name:e.shortName,and:r});return Ce(I(e)?e.doneData:e,o),t&&t.hooks.store(o),o}var s=Array.isArray(e)?[]:{};return G(e,function(u,c){return s[c]=L(u)?u:R(u,{name:c})}),s},P.sample=function(){for(var e,n,r=arguments.length,a=new Array(r),t=0;t<r;t++)a[t]=arguments[t];var o,s,u=Se(a),c=u[0],i=c[0],p=c[1],b=c[2],v=u[1],h=1,d=oe("sample",v);return ge(p)&&he(i)&&Ze(i,d)&&(p=i.clock,b=i.fn,"batch"in i?h=i.batch:(ie(!("greedy"in i),"greedy in sample","batch",d),h=!i.greedy),s=i.filter,e=i.target,n=i.name,o=i.sid,i=i.source),Rn("sample",p,i,s,e,b,n,v,h,1,0,o)},P.scopeBind=function(e,n){var r=n===void 0?{}:n,a=r.scope;N(a||T||r.safe,"scopeBind: scope not found");var t=a||T;return function(o){function s(){pn(i)}var u,c=0,i=T;pn(t);try{u=e(o)}catch(p){u=p,c=1}if(s(),c)throw u;return u instanceof Promise&&u.then(s,s),u}},P.serialize=function(e,n){n===void 0&&(n={}),e.warnSerialize&&console.error("There is a store without sid in this scope, its value is omitted"),N(!e.hasSidDoubles,"duplicate sid found in this scope");var r=n.ignore?n.ignore.map(function(t){return t.sid}):[],a={};return G(e.values.sidMap,function(t,o){var s;if(!re(r,o)){var u=e.sidIdMap[o],c=(s=e.sidSerializeSettings.get(o))!==null&&s!==void 0?s:{ignore:0,write:dr};c.ignore||(a[o]=(0,c.write)(u&&u in e.reg?e.reg[u].current:t))}}),"onlyChanges"in n&&(ie(0,"onlyChanges"),n.onlyChanges||(N(e.cloneOf,"scope should be created from domain"),Ye(l(e.cloneOf),function(t,o){o in a||re(r,o)||O(t,"isCombine")||O(t,"serialize")==="ignore"||(a[o]=e.getState(t))}))),a},P.setGraphInspector=function(e){Qe=e},P.setInspector=function(e){Cn=e},P.setStoreName=function(e,n){e.shortName=n,Object.assign(D(e),Pe(n,j(e)))},P.split=function(){for(var e,n,r="split",a=arguments.length,t=new Array(a),o=0;o<a;o++)t[o]=arguments[o];var s=Se(t),u=s[0],c=u[0],i=u[1],p=s[1],b=oe(r,p),v=!i;v&&(e=c.cases,i=c.match,n=c.clock,c=c.source);var h=L(i),d=!F(i)&&me(i),S=!h&&!d&&he(i);N(F(c),"source must be a unit",b),e||(e={}),v?G(e,function(_,$){return Sn(b,_,"cases."+$)}):(N(S,"match should be an object",b),G(i,function(_,$){return e[$]=ae({derived:1,named:"cases."+$,and:p})}),e.__=ae({derived:1,named:"cases.__",and:p}));var A,f=new Set([].concat(c,n||[],Object.values(e))),y=Object.keys(h||d?e:i);if(h||d)h&&f.add(i),A=[h&&we(M(i),0,1),Re({safe:h,filter:1,pure:!h,fn:function(_,$,J){var ee=String(h?J.a:i(_));Fn($,re(y,ee)?ee:"__",_,J)}})];else if(S){var k=qe({});k.type="shape";var z,H=[];G(i,function(_,$){if(F(_)){z=1,X(H,$),f.add(_);var J=Ce(_,[],[we(k),ue(function(ye,le,je){return je.a[$]=ye})]);if(L(_)){k.current[$]=_.getState();var ee=M(_);cn(k,{from:ee,field:$,type:"field"}),se("splitMatchStore",ee,J)}}}),z&&se("splitBase",k),A=[z&&we(k,0,1),xe(function(_,$,J){for(var ee=0;ee<y.length;ee++){var ye=y[ee];if(re(H,ye)?J.a[ye]:i[ye](_))return void Fn($,ye,_,J)}Fn($,"__",_,J)},1)]}else N(0,"expect match to be unit, function or object");var Z=K({meta:{op:r},parent:n?[]:c,scope:e,node:A,family:{owners:Array.from(f)},regional:1});if(n&&Rn(r,n,c,null,Z,null,r,p,0,0,0),!v)return e},P.step=en,P.version="23.2.3",P.withFactory=function(e){var n=e.sid,r=e.name,a=e.loc,t=e.method,o=e.fn;return _e(K({meta:{sidRoot:Pn(n),sid:n,name:r,loc:a,method:t,type:"factory"}}),o)},P.withRegion=_e,P}var rr;function Sr(){if(rr)return de;rr=1;function G(m){return m&&typeof m=="object"&&"default"in m?m.default:m}function B(m,l){return l.displayName=m,l}function N(m,l){var g=U.is.unit(m),w={};g?w={unit:m}:"@@unitShape"in m?typeof m["@@unitShape"]=="function"?w=m["@@unitShape"]():ce("expect @@unitShape to be a function"):w=m;var M=Array.isArray(w),x=R.useRef({stale:1,justSubscribed:0,scope:l}),C=R.useMemo(function(){x.current.stale=1;var W=Array.isArray(w)?[]:{},I=[],Q=[],V=[],fe=[];for(var te in w)if({}.hasOwnProperty.call(w,te)){var re=w[te];U.is.unit(re)||ce("expect useUnit "+(g?"argument":'value in key "'+te+'"')+" to be a unit"),U.is.event(re)||U.is.effect(re)?(W[te]=l?U.scopeBind(re,{scope:l}):re,V.push(te),fe.push(re)):(W[te]=null,I.push(te),Q.push(re))}return[W,I,Q,V,fe]},[x,l].concat(Object.keys(w),Object.values(w))),j=C[0],E=C[1],O=C[2],q=C[3],D=C[4],F=R.useRef({value:j,storeKeys:E,eventKeys:q,eventValues:D}),Y=R.useCallback(function(W){var I=x.current;return I.justSubscribed=1,U.createWatch({unit:O,fn:function(){I.stale||(I.stale=1,W())},scope:l,batch:1})},[O,l,F,x]),L=R.useCallback(function(){var W,I=F.current,Q=x.current,V=0,fe=I.value,te=I.storeKeys,re=I.eventKeys,Ve=I.eventValues,X=l!==Q.scope;if(Q.stale||Q.justSubscribed||X){V=!Q.justSubscribed||X,W=M?[].concat(j):Object.assign({},j),te.length===E.length&&re.length===q.length||(V=1);for(var ie=0;ie<E.length;ie++){var Ie=$e(O[ie],l),Ke=E[ie];V||(V=te.includes(Ke)?fe[Ke]!==Ie:1),W[Ke]=Ie}for(var Ne=0;Ne<q.length;Ne++){var bn=D[Ne],un=q[Ne];V||(V=re.includes(un)?Ve[re.indexOf(un)]!==bn:1)}}return V&&(I.value=W),I.storeKeys=E,I.eventKeys=q,I.eventValues=D,Q.stale=0,Q.justSubscribed=!V,Q.scope=l,g?I.value.unit:I.value},[Y,O,D,l,F,x]);return ae.useSyncExternalStore(Y,L,L)}function _e(m,l){var g,w,M,x,C=m[0],j=m[1],E=Ze;if(j)g=j,M=C,x=[];else{g=C.fn,M=C.store,x=C.keys,w=C.defaultValue;var O=C.updateFilter;E=O===void 0?Ze:O}U.is.store(M)||ce("useStoreMap expects a store"),Array.isArray(x)||ce("useStoreMap expects an array as keys"),typeof g!="function"&&ce("useStoreMap expects a function");var q=R.useCallback(function(W){return U.createWatch({unit:M,fn:W,scope:l})},[M,l]),D=R.useCallback(function(){return $e(M,l)},[M,l]),F=R.useRef(),Y=R.useRef(),L=R.useRef(x);return on.useSyncExternalStoreWithSelector(q,D,D,function(W){if(F.current!==W||!function(Q,V){if(!Q||!V||Q.length!==V.length)return 0;for(var fe=1,te=0;te<Q.length;te++)if(Q[te]!==V[te]){fe=0;break}return fe}(L.current,x)){var I=g(W,x);I===void 0&&w!==void 0&&(I=w),F.current=W,L.current=x,I!==void 0&&(Y.current=I)}return Y.current},function(W,I){return!E(I,W)})}function K(m,l,g){l===void 0&&(l={});var w=N({open:m.open,close:m.close,set:m.set},g),M=w.open,x=w.close,C=w.set,j=R.useMemo(function(){return{open:M,close:x,set:C}},[m,M]),E=R.useRef({value:null,count:0});We(function(){return j.open(E.current.value),function(){return j.close(E.current.value)}},[j]),function(O,q){if(O===q)return 1;if(typeof O=="object"&&O!==null&&typeof q=="object"&&q!==null){var D=Object.keys(O),F=Object.keys(q);if(D.length!==F.length)return 0;for(var Y=0;Y<D.length;Y++){var L=D[Y];if(O[L]!==q[L])return 0}return 1}return 0}(E.current.value,l)||(E.current.value=l,E.current.count+=1),We(function(){j.set(E.current.value)},[E.current.count])}function ne(m){var l=R.useContext(Ye);return m&&!l&&ce("No scope found, consider adding <Provider> to app root"),l}function Le(m,l){return function(g,w){Be(1,"useStore","useUnit"),U.is.store(g)||ce("expect useStore argument to be a store");var M=R.useCallback(function(C){return U.createWatch({unit:g,fn:C,scope:w})},[g,w]),x=R.useCallback(function(){return $e(g,w)},[g,w]);return ae.useSyncExternalStore(M,x,x)}(m,ne(l==null?void 0:l.forceScope))}function Pe(m,l){function g(j){var E=R.useRef(j),O=Le(w);We(function(){return x({props:E.current,state:w.getState()}),function(){C({props:E.current,state:w.getState()})}},[]);var q=l(j,O);return E.current=j,q}var w;ze("createComponent","@effector/reflect"),U.is.store(m)?w=m:typeof m=="object"&&m!==null?w=U.combine(m):ce("shape should be a store or object with stores");var M="Unknown";w&&w.shortName&&(M=w.shortName);var x=U.createEvent(),C=U.createEvent();return g.mounted=x,g.unmounted=C,B(M+".View",g)}function oe(m,l){var g,w=m[0];(function(E){if(!E)throw Error("expect first argument be an object")})(Ee(g=w)||function(E){return typeof E=="function"}(g));var M=w.or,x=w.and;if(x){var C=x[0];if(Ee(C)&&"and"in C){var j=oe(x);m=j[0],M=Object.assign({},M,j[1])}else m=x}return[m,M]}function Se(m){function l(Y){return M(l,Y,ne()),null}var g=m.domain,w=m.defaultState,M=m.hook,x=Qe({or:m.maybeConfig,and:m.mainConfig}),C=(g?g.compositeName.fullName+"/":"")+(x.name||"gate"),j=U.createEvent({name:C+".set",sid:x.sid?x.sid+"|set":void 0}),E=U.createEvent({name:C+".open",sid:x.sid?x.sid+"|open":void 0}),O=U.createEvent({name:C+".close",sid:x.sid?x.sid+"|close":void 0}),q=U.createStore(!1,{name:C+".status",serialize:"ignore"}).on(E,function(){return!0}).on(O,function(){return!1}),D=U.createStore(w,{name:C+".state",sid:x.sid}).on(j,function(Y,L){return L}).on(E,function(Y,L){return L}).reset(O);if(g){var F=g.hooks;U.launch({target:[F.store,F.store,F.event,F.event,F.event],params:[q,D,E,O,j]})}return l.open=E,l.close=O,l.status=q,l.state=D,l.set=j,B("Gate:"+C,l)}function Xe(m,l){var g,w,M,x=oe(l&&Ee(g=l[0])&&(g.and||g.or)?l:[{and:l}]),C=x[0],j=C[0],E=C[1],O={},q={},D=x[1];return typeof j=="string"?(q={name:j},Ee(M=E)&&"sid"in M||(O=E||{})):function(F){return Ee(F)&&("domain"in F||"defaultState"in F||"name"in F)}(j)&&(q=j,O=j.defaultState||{},w=j.domain),{hook:m,domain:w,defaultState:O,mainConfig:q,maybeConfig:D}}Object.defineProperty(de,"__esModule",{value:1});var se=pr(),U=wr(),ae=vr(),on=mr(),R=G(se),ce=function(m){throw Error(m)},We=typeof window<"u"?R.useLayoutEffect:R.useEffect,Be=function(m,l,g){se.useEffect(function(){console.error(l+" is deprecated"+(", prefer "+g+" instead"))},[m,l,g])},$e=function(m,l){return l?l.getState(m):m.getState()},Ze=function(m,l){return m!==l},Ye=R.createContext(null),ze=function(m,l){console.error(m+" is deprecated"+(l?", use "+l+" instead":""))},Ee=function(m){return typeof m=="object"&&m!==null},Qe=function m(l,g){return g===void 0&&(g={}),Ee(l)&&(m(l.or,g),function(w){for(var M in w)C=M,function(j){return j===void 0}(x=w[M])||C==="or"||C==="and"||(g[C]=x);var x,C}(l),m(l.and,g)),g};return de.Provider=Ye.Provider,de.connect=function(m){return ze("connect","useUnit"),function(l){var g=m;return typeof m!="function"&&(g=l,l=m),B("Connect("+(g.displayName||g.name||"Unknown")+")",function(w){return R.createElement(g,Object.assign({},w,Le(l)))})}},de.createComponent=Pe,de.createGate=function(){for(var m=arguments.length,l=new Array(m),g=0;g<m;g++)l[g]=arguments[g];return Se(Xe(K,l))},de.createStoreConsumer=function(m){return ze("createStoreConsumer","useUnit"),Pe(m,function(l,g){return(0,l.children)(g)})},de.useEvent=function(m,l){return function(g,w){if(Be(1,"useEvent","useUnit"),!w)return g;var M=U.is.unit(g)||typeof g!="object"?{event:g}:g;return R.useMemo(function(){if(U.is.unit(g))return U.scopeBind(g,{scope:w});var x=Array.isArray(g)?[]:{};for(var C in g)x[C]=U.scopeBind(g[C],{scope:w});return x},[w].concat(Object.keys(M),Object.values(M)))}(m,ne(l==null?void 0:l.forceScope))},de.useGate=function(m,l,g){return l===void 0&&(l={}),K(m,l,ne(g==null?void 0:g.forceScope))},de.useList=function(m,l,g){return function(w,M,x){var C,j,E,O=[];typeof M=="object"&&M!==null?(M.keys&&(O=M.keys),C=M.fn,j=M.getKey,E=M.placeholder):C=M,U.is.store(w)||ce("expect useList first argument to be a store"),typeof C!="function"&&ce("expect useList's renderItem to be a function"),Array.isArray(O)||ce("expect useList's keys to be an array");var q=R.useMemo(function(){var W=B((w.shortName||"Unknown")+".Item",function(I){var Q=I.index,V=I.keys;if(D.current[1])return D.current[0](I.value,I.keyVal);var fe=_e([{store:w,keys:[Q].concat(V),fn:function(te,re){return te[re[0]]}}],x);return D.current[0](fe,Q)});return R.memo(W)},[w,x,!!j]),D=R.useRef([C,j]);D.current=[C,j];var F=R.useMemo(function(){return O},O);if(j){var Y=N(w,x);return Y.length===0&&E?E:Y.map(function(W){var I=D.current[1](W);return R.createElement(q,{keyVal:I,key:I,keys:F,value:W})})}var L=_e([{store:w,keys:[w],fn:function(W){return W.length}}],x);return L===0&&E?E:Array.from({length:L},function(W,I){return R.createElement(q,{index:I,key:I,keys:F})})}(m,l,ne(g==null?void 0:g.forceScope))},de.useProvidedScope=function(){return ne()||null},de.useStore=Le,de.useStoreMap=function(m,l){return _e([m,l],ne(m==null?void 0:m.forceScope))},de.useUnit=function(m,l){return N(m,ne(l==null?void 0:l.forceScope))},de}var xr=Sr();const Mr=[{image:"/assets/elon.jpg",date:"19.03.2025",text:"Прошли переговоры с Илоном Маском по применению автоматики Сиббурмаш в следующих версиях Tesla",id:1},{image:"/assets/docs.png",date:"20.03.2025",text:"СБМ получена декларация о соответствие требованиями ЕЭС",id:2},{image:"/assets/photo.png",date:"21.03.2025",text:"СибБурмаш принял участие в Тюменском нефтегазовом форуме",id:3}],Cr=hr(Mr),jr=Ae.div`
  width: 100%;
  height: 200px;
  background-size: cover;
  background-position: left bottom;
  border-radius: 30px;
  background-image:
    linear-gradient(to bottom, #2669d799, #2669d799), url("/assets/photo.jpg");
  display: flex;
  align-items: center;
  justify-content: center;
`,Ar=Ae.div`
  background: linear-gradient(to bottom, #2669d799);
`,Er=Ae.h1`
  font-size: 60px;
  color: ${an.colors.purewhite};
`,Or=Ae.div`
  display: flex;
  gap: 30px;
  flex-wrap: wrap;
  margin-top: 55px;
`,zr=Ae.div`
  display: flex;
  flex-direction: column;
  width: 428px;
  border: 2px solid black;
  padding-bottom: 40px;
  border-radius: 32px;
  overflow: hidden;
  transition: transform 0.3s ease-in-out;
  cursor: pointer;

  &:hover {
    border: 3px solid blue;
    transform: scale(1.05);
  }
`,Ir=Ae.img`
  width: 100%;
  height: 300px;
  object-fit: cover;
`,Nr=Ae.div`
  width: 100%;
  overflow: hidden;
`,Rr=Ae.p`
  font-size: ${an.fontSizes[20]};
  font-weight: 500;
  color: black;
  margin-left: 20px;
  margin-top: 20px;
`,qr=Ae.div`
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: ${an.fontSizes[16]};
  font-weight: 500;
  color: ${an.colors.purewhite};
  padding: 10px 28px;
  background: ${an.colors.blue800};
  border-radius: 8px;
  width: fit-content;
  height: fit-content;
  margin-left: 20px;
  margin-top: 20px;
`,Fr=({item:G})=>pe.jsx(gr,{to:yr,params:{id:G==null?void 0:G.id},children:pe.jsxs(zr,{children:[pe.jsx(Nr,{children:pe.jsx(Ir,{src:G.image,alt:G.text})}),pe.jsx(qr,{children:G.date}),pe.jsx(Rr,{children:G.text})]})}),_r=()=>{const G=xr.useUnit(Cr);return br.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),pe.jsxs(pe.Fragment,{children:[pe.jsx(Ar,{children:pe.jsx(jr,{children:pe.jsx(Er,{children:"Новости компании"})})}),pe.jsx(Or,{children:G==null?void 0:G.map((B,N)=>pe.jsx(Fr,{item:B},N))})]})},Pr=()=>pe.jsx(kr,{children:pe.jsx(_r,{})});export{Pr as default};
